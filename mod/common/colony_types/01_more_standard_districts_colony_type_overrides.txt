# values copied from common/colony_types/00_colony_types.txt
@free_districts_verylow_threshold = 3
@free_districts_high_threshold = 15

# Tech-World (Research)
col_research = {
	icon = GFX_colony_type_research
	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
		}
		msd_uses_planetary_diversity_non_research_district_set = no
		is_special_colony_type = no
	}
	planet_modifier = {
		planet_building_research_lab_1_build_speed_mult = 0.25
		planet_building_research_lab_2_build_speed_mult = 0.25
		planet_building_research_lab_3_build_speed_mult = 0.25
		planet_district_standard_cm_science_build_speed_mult = 0.25
		planet_researchers_upkeep_mult = -0.2

	}
	weight_modifier = {
		modifier = {
			add = 5
			has_designation = col_research
		}
		modifier = {
			add = 5
			OR = {
				has_modifier = wild_storms
				has_modifier = titanic_life
				has_modifier = atmospheric_hallucinogen
				has_modifier = dangerous_wildlife
				has_modifier = unstable_tectonics
				has_deposit = d_central_spire
			}
		}
		modifier = {
			add = 5
			has_building = building_research_lab_1
		}
		modifier = {
			add = 10
			has_building = building_research_lab_2
		}
		modifier = {
			add = 15
			has_building = building_research_lab_3
		}
		modifier = {
			add = 10
			OR = {
				has_building = building_institute
				has_building = building_supercomputer
			}
		}
		modifier = {
			add = 2
			num_districts = {
				type = district_standard_cm_science
				value >= 2
			}
		}
		modifier = {
			add = 3
			num_districts = {
				type = district_standard_cm_science
				value >= 3
			}
		}
		modifier = {
			add = 4
			num_districts = {
				type = district_standard_cm_science
				value >= 4
			}
		}
		modifier = {
			add = 5
			num_districts = {
				type = district_standard_cm_science
				value >= 5
			}
		}
	}
}

# Bureaucratic Center
col_bureau = {
	icon = GFX_colony_type_bureaucratic
	potential = {
		exists = owner
		NOR = {
			uses_district_set = habitat
			uses_district_set = pdplanethab
		}
		is_special_colony_type = no
	}
	planet_modifier = {
		planet_administrators_produces_mult = 0.10
		planet_administrators_upkeep_mult = -0.10
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
			}
		}
		modifier = {
			planet_district_standard_cm_admin_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_spiritualist = yes
			}
		}
		modifier = {
			planet_district_standard_cm_admin_religious_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			planet_district_standard_cm_admin_hive_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			planet_district_standard_cm_admin_machine_build_speed_mult = 0.25
		}
	}
	weight_modifier = {
		base = 5
		modifier = {
			add = 5
			has_designation = col_bureau
		}
		# Pop jobs
		modifier = { add = value:unity_job_weight|JOB|synapse_drone| }
		modifier = { add = value:unity_job_weight|JOB|chronicle_drone| }
		modifier = { add = value:unity_job_weight|JOB|coordinator| }
		modifier = { add = value:unity_job_weight|JOB|bureaucrat| }
		modifier = { add = value:unity_job_weight|JOB|priest| }
		modifier = { add = value:unity_job_weight|JOB|death_priest| }
		modifier = { add = value:unity_job_weight|JOB|death_chronicler| }
		modifier = { add = value:unity_job_weight|JOB|mortal_initiate| }
		modifier = { add = value:unity_job_weight|JOB|manager| }
		# buildings
		modifier = { add = value:unity_building_weight|BUILDING|building_bureaucratic_1| }
		modifier = { add = value:unity_building_weight|BUILDING|building_bureaucratic_2| }
		modifier = { add = value:unity_building_weight|BUILDING|building_bureaucratic_3| }
		modifier = { add = value:unity_building_weight|BUILDING|building_temple| }
		modifier = { add = value:unity_building_weight|BUILDING|building_holotemple| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacred_nexus| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacrificial_temple_1| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacrificial_temple_2| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacrificial_temple_3| }
		modifier = { add = value:unity_building_weight|BUILDING|building_hive_node| }
		modifier = { add = value:unity_building_weight|BUILDING|building_hive_cluster| }
		modifier = { add = value:unity_building_weight|BUILDING|building_hive_confluence| }
		modifier = { add = value:unity_building_weight|BUILDING|building_uplink_node| }
		modifier = { add = value:unity_building_weight|BUILDING|building_network_junction| }
		modifier = { add = value:unity_building_weight|BUILDING|building_system_conflux| }
		# districts
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin_religious| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin_hive| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin_machine| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin_religious| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin_hive| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin_machine| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_arcology_administrative| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_arcology_religious| }
		# limit 1 per category buildings
		modifier = {
			add = 2
			OR = {
				has_building = building_autochthon_monument
				has_building = building_corporate_monument
				has_building = building_galactic_memorial_1
				has_building = building_simulation_1
				has_building = building_sensorium_1
			}
		}
		modifier = {
			add = 4
			OR = {
				has_building = building_heritage_site
				has_building = building_corporate_site
				has_building = building_galactic_memorial_2
				has_building = building_simulation_2
				has_building = building_sensorium_2
			}
		}
		modifier = {
			add = 6
			OR = {
				has_building = building_hypercomms_forum
				has_building = building_corporate_forum
				has_building = building_galactic_memorial_3
				has_building = building_simulation_3
				has_building = building_sensorium_3
			}
		}
		modifier = {
			add = 6
			OR = {
				has_building = building_autocurating_vault
				has_building = building_citadel_of_faith
				has_building = building_corporate_vault
				has_building = building_alpha_hub
			}
		}
	}
}

# Bureaucratic Station
col_habitat_bureau = {
	icon = GFX_colony_type_hab_bureaucratic
	potential = {
		exists = owner
		OR = {
			uses_district_set = habitat
			uses_district_set = pdplanethab
		}
		is_special_colony_type = no
	}
	planet_modifier = {
		planet_administrators_produces_mult = 0.10
		planet_administrators_upkeep_mult = -0.10
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_spiritualist = no
			}
		}
		modifier = {
			planet_district_standard_cm_hab_admin_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_spiritualist = yes
			}
		}
		modifier = {
			planet_district_standard_cm_hab_admin_religious_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			planet_district_standard_cm_hab_admin_hive_build_speed_mult = 0.25
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			planet_district_standard_cm_hab_admin_machine_build_speed_mult = 0.25
		}
	}
	weight_modifier = {
		base = 5
		modifier = {
			add = 5
			has_designation = col_habitat_bureau
		}
		# Pop jobs
		modifier = { add = value:unity_job_weight|JOB|synapse_drone| }
		modifier = { add = value:unity_job_weight|JOB|chronicle_drone| }
		modifier = { add = value:unity_job_weight|JOB|coordinator| }
		modifier = { add = value:unity_job_weight|JOB|bureaucrat| }
		modifier = { add = value:unity_job_weight|JOB|priest| }
		modifier = { add = value:unity_job_weight|JOB|death_priest| }
		modifier = { add = value:unity_job_weight|JOB|death_chronicler| }
		modifier = { add = value:unity_job_weight|JOB|mortal_initiate| }
		modifier = { add = value:unity_job_weight|JOB|manager| }
		# buildings
		modifier = { add = value:unity_building_weight|BUILDING|building_bureaucratic_1| }
		modifier = { add = value:unity_building_weight|BUILDING|building_bureaucratic_2| }
		modifier = { add = value:unity_building_weight|BUILDING|building_bureaucratic_3| }
		modifier = { add = value:unity_building_weight|BUILDING|building_temple| }
		modifier = { add = value:unity_building_weight|BUILDING|building_holotemple| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacred_nexus| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacrificial_temple_1| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacrificial_temple_2| }
		modifier = { add = value:unity_building_weight|BUILDING|building_sacrificial_temple_3| }
		modifier = { add = value:unity_building_weight|BUILDING|building_hive_node| }
		modifier = { add = value:unity_building_weight|BUILDING|building_hive_cluster| }
		modifier = { add = value:unity_building_weight|BUILDING|building_hive_confluence| }
		modifier = { add = value:unity_building_weight|BUILDING|building_uplink_node| }
		modifier = { add = value:unity_building_weight|BUILDING|building_network_junction| }
		modifier = { add = value:unity_building_weight|BUILDING|building_system_conflux| }
		# districts
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin_religious| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin_hive| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_admin_machine| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin_religious| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin_hive| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_standard_cm_hab_admin_machine| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_arcology_administrative| }
		modifier = { add = value:unity_district_weight|DISTRICT|district_arcology_religious| }
		# limit 1 per category buildings
		modifier = {
			add = 2
			OR = {
				has_building = building_autochthon_monument
				has_building = building_corporate_monument
				has_building = building_galactic_memorial_1
				has_building = building_simulation_1
				has_building = building_sensorium_1
			}
		}
		modifier = {
			add = 4
			OR = {
				has_building = building_heritage_site
				has_building = building_corporate_site
				has_building = building_galactic_memorial_2
				has_building = building_simulation_2
				has_building = building_sensorium_2
			}
		}
		modifier = {
			add = 6
			OR = {
				has_building = building_hypercomms_forum
				has_building = building_corporate_forum
				has_building = building_galactic_memorial_3
				has_building = building_simulation_3
				has_building = building_sensorium_3
			}
		}
		modifier = {
			add = 6
			OR = {
				has_building = building_autocurating_vault
				has_building = building_citadel_of_faith
				has_building = building_corporate_vault
				has_building = building_alpha_hub
			}
		}
	}
}

# Fortress World
col_fortress = {
	icon = GFX_colony_type_fortress
	potential = {
		exists = owner
		NOR = {
			uses_district_set = city_world
			uses_district_set = ring_world
			uses_district_set = habitat
			uses_district_set = machine_world
			uses_district_set = hive_world
		}
		msd_uses_planetary_diversity_special_district_set = no
		is_special_colony_type = no
	}
	planet_modifier = {
		planet_district_standard_cm_military_build_speed_mult = 0.25
		planet_building_stronghold_build_speed_mult = 0.25
		planet_building_fortress_build_speed_mult = 0.25
		planet_orbital_bombardment_damage = -0.10
		army_defense_damage_mult = 0.20
	}
	weight_modifier = {
		modifier = {
			add = 5
			has_designation = col_fortress
		}
		modifier = {
			add = 3
			num_buildings = {
				type = building_stronghold
				value >= 2
			}
		}
		modifier = {
			add = 4
			num_buildings = {
				type = building_stronghold
				value >= 3
			}
		}
		modifier = {
			add = 5
			num_buildings = {
				type = building_stronghold
				value >= 4
			}
		}
		modifier = {
			add = 3
			num_districts = {
				type = district_standard_cm_military
				value >= 2
			}
		}
		modifier = {
			add = 4
			num_districts = {
				type = district_standard_cm_military
				value >= 3
			}
		}
		modifier = {
			add = 5
			num_districts = {
				type = district_standard_cm_military
				value >= 4
			}
		}
		modifier = {
			add = 3
			num_buildings = {
				type = building_fortress
				value >= 1
			}
		}
		modifier = {
			add = 5
			num_buildings = {
				type = building_fortress
				value >= 2
			}
		}
	}
}

# Fortress Station
col_habitat_fortress = {
	icon = GFX_colony_type_habitat_fortress
	potential = {
		uses_district_set = habitat
	}
	planet_modifier = {
		planet_district_standard_cm_hab_military_build_speed_mult = 0.25
		planet_building_stronghold_build_speed_mult = 0.25
		planet_building_fortress_build_speed_mult = 0.25
		planet_orbital_bombardment_damage = -0.10
		army_defense_damage_mult = 0.20
	}
	weight_modifier = {
		base = 300
		modifier = {
			factor = 3
			has_designation = col_habitat_fortress
		}
		modifier = {
			factor = 2
			num_buildings = {
				type = building_stronghold
				value >= 3
			}
		}
		modifier = {
			factor = 3
			num_buildings = {
				type = building_stronghold
				value >= 5
			}
		}
		modifier = {
			factor = 3
			num_districts = {
				type = district_standard_cm_hab_military
				value >= 2
			}
		}
		modifier = {
			factor = 4
			num_districts = {
				type = district_standard_cm_hab_military
				value >= 3
			}
		}
		modifier = {
			factor = 5
			num_districts = {
				type = district_standard_cm_hab_military
				value >= 4
			}
		}
		modifier = {
			factor = 2
			num_buildings = {
				type = building_fortress
				value >= 2
			}
		}
		modifier = {
			factor = 3
			num_buildings = {
				type = building_fortress
				value >= 4
			}
		}
	}
}